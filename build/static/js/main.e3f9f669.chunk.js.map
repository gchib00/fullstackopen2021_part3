{"version":3,"sources":["components/Notification.js","services/contacts.js","components/AddContact.js","components/Filter.js","components/ContactList.js","App.js","index.js"],"names":["Notification","content","style_container","width","height","backgroundColor","display","justifyContent","alignItems","style","color","fontSize","url","getAll","axios","get","then","response","data","exportedObject","addPerson","person","post","removePerson","id","delete","updateNumber","changedObject","put","catch","error","console","log","AddContact","persons","setPersons","existingNames","useState","newName","setNewName","newNumber","setNewNumber","notification_added","setNotification_added","notification_numChanged","setNotification_numChanged","notification_userDeleted","setNotification_userDeleted","onSubmit","event","preventDefault","value","onChange","target","type","onClick","includes","toLowerCase","some","number","alert","window","confirm","object","find","name","contactList","length","setTimeout","newPerson","Filter","setFilteredArray","filter","setFilter","filteredNames","filteredObjects","useEffect","ContactList","filteredArray","deleteContact","map","App","contacts","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e3f9f669.chunk.js","sourcesContent":["\n\nconst Notification = ({content}) => {\n    let style_container = {\n        width: '500px',\n        height: '30px',\n        backgroundColor: 'green',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n    }\n    const style_mainText = {\n        color: 'white',\n        fontSize: '1.2rem',\n    }\n    if (content === 'Unable to update, contact no longer exists') {\n        style_container = {\n            width: '500px',\n            height: '30px',\n            backgroundColor: 'red',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n        }\n    }\n\n    return(\n        <div style={style_container}>\n            <p style={style_mainText}>{content}</p>\n        </div>\n    )\n}\n\n\nexport default Notification","import axios from 'axios'\n\nconst url = '/api/persons/'\n\nconst getAll = () => {\n    const request = axios.get(url)\n    return request.then(response => response.data)\n}\nconst addPerson = (person) => {\n      return axios.post(url, person).then(getAll)\n}\nconst removePerson = (id) => {\n    return axios.delete(url+\"/\"+id).then(getAll)\n}\nconst updateNumber = (changedObject) => {\n    return axios.put(url+'/'+changedObject.id, changedObject).then(getAll)\n    .catch (error => {\n        console.log(error)\n        return getAll()\n    })\n}\n\nconst exportedObject = { addPerson, getAll, removePerson, updateNumber }\nexport default exportedObject","import React, { useEffect, useState } from 'react'\nimport Notification from './Notification'\nimport contactList from '../services/contacts'\n\nconst AddContact = ({ persons, setPersons, existingNames }) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ notification_added, setNotification_added ] = useState(false)\n    const [ notification_numChanged, setNotification_numChanged ] = useState(false)\n    let [ notification_userDeleted, setNotification_userDeleted ] = useState('')\n\n    const handleSubmit = (event) => {\n      event.preventDefault()\n    }\n    const handleNameChange = (event) => {\n      setNewName(event.target.value)\n    }\n    const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n    }\n    const addName = () => {\n      if (existingNames.includes(newName.toLowerCase())) {         \n        if (persons.some(person => person.number === newNumber)){\n          alert(`'${newName}' is already added to the phonebook!`)\n        } else {\n          if (window.confirm(`${newName} is already added to the phonebook. Would you like to replace the old phone number with the new one?`)) {\n            //Find the object that needs to be updated:\n            let object = persons.find(person => person.name === newName)\n            //Update the object\n            object.number = newNumber\n            //Pass the updated object to db in order to update the json file\n            contactList.updateNumber(object)\n              .then(response => {\n                if (persons.length > response.length){ \n                  //if response array is smaller, it means that 'updateNumber()' has caught an error and one item got excluded from persons array\n                  setNotification_userDeleted(true)\n                }\n                setPersons(response) //finally, update the persons array\n            })\n            console.log(notification_userDeleted)\n            if (notification_userDeleted === false){\n              setNotification_numChanged(true)\n              setTimeout(() => {\n                setNotification_numChanged(false)\n              }, 4000)\n            } else {\n              setTimeout(() => {\n                setNotification_userDeleted(false)\n              }, 5000)\n            }\n          }\n        }\n      } else {\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n        contactList.addPerson(newPerson).then(response => {\n          setPersons(response)\n        })\n        setNotification_added(true)\n        setTimeout( () => {\n          setNotification_added(false)\n        }, 4000)\n      }\n    }\n\n    return(\n      <div>\n        <form onSubmit={handleSubmit}>\n          <div>name: <input value={newName} onChange={handleNameChange} /></div>\n          <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n          <div>\n            <button type=\"submit\" onClick={addName}>add</button>\n          </div>\n        </form>\n        <div>\n          {notification_added === true ? \n            <Notification content={`${newName} has been added`} />\n          :\n            null\n          }\n          {notification_numChanged === true ? \n            <Notification content={`Number has been changed to ${newNumber}`} />\n          :\n            null\n          }\n          {notification_userDeleted === true ?\n            <Notification content={'Unable to update, contact no longer exists'}/>\n          :\n            null\n          }\n        </div>\n      </div>\n    )\n\n}\n\nexport default AddContact","import React, { useEffect, useState } from 'react'\n\nconst Filter = ({ persons, existingNames, setFilteredArray }) => {\n    const [ filter, setFilter ] = useState('')\n    \n    const filteredNames = existingNames.filter(name => name.includes(filter.toLowerCase())) \n    const filteredObjects = persons.filter(person => filteredNames.includes(person.name.toLowerCase()))  \n    \n    const handleChange = (event) => {\n        setFilter(event.target.value) \n    } \n\n    useEffect(() => {\n        setFilteredArray(filteredObjects)\n        if (filter === \"\") {    ///need to empty the filteredArray if input is empty, otherwise it retains previous values\n            setFilteredArray([])\n        }\n    }, [filter, setFilteredArray])\n\n\n    return(\n        <div>\n            Filter contact list: <input value={filter} onChange={handleChange} /> \n        </div>\n    )\n}\n    \n\nexport default Filter","import contactList from '../services/contacts' \n\nconst ContactList = ({ filteredArray, persons, setPersons, setFilteredArray }) => {\n\n    const deleteContact = (person) => {\n        const id = person.id\n        const name=person.name\n        if (window.confirm(`Delete ${name}?`)) {\n            contactList.removePerson(id) //removes contact from db.json\n            //update arrays:\n            setPersons(persons.filter(person => person.id !== id)) \n            if (filteredArray.map(persons => persons.id === id)) {\n                setFilteredArray(filteredArray.filter(person => person.id !== id))\n            }\n        }\n    }\n\n\n    return(\n        <ul>\n            {(filteredArray.length > 0) ? \n                filteredArray.map(person => \n                    <div key={person.name} style={{display: 'flex', justifyContent: 'flex-start'}}>\n                        <li>{person.name} - {person.number}</li>\n                        <button onClick={() => deleteContact(person)}>delete</button>\n                    </div>)\n            :\n                persons.map(person => \n                    <div key={person.name} style={{display: 'flex', justifyContent: 'flex-start'}}>\n                        <li>{person.name} - {person.number}</li>\n                        <button onClick={() => deleteContact(person)}>delete</button>\n                    </div>)\n            }\n      </ul>\n    )\n}\n\nexport default ContactList","import React, { useEffect, useState } from 'react'\nimport AddContact from './components/AddContact'\nimport Filter from './components/Filter'\nimport ContactList from './components/ContactList'\n\nimport contacts from './services/contacts'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ filteredArray, setFilteredArray ] = useState([])\n\n  const existingNames = persons.map(person => person.name.toLowerCase())  \n\n  useEffect( () => {\n    contacts.getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  },[])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter persons={persons} existingNames={existingNames} setFilteredArray={setFilteredArray} />\n      <h2>Add New</h2>\n      <AddContact persons={persons} setPersons={setPersons} existingNames={existingNames} />\n      <h2>Numbers</h2>\n      <ContactList persons={persons} setPersons={setPersons} filteredArray={filteredArray} setFilteredArray={setFilteredArray} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}